@{
    ViewBag.Title = "KHAI GIẢNG KHÓA HỌC LẬP TRÌNH";
    Layout = "~/Views/Shared/_LayoutMain.cshtml";
    ViewBag.description = "iMic - Nơi đào tạo lập trình viên hàng đầu Việt Nam. Cơ hội tiếp cận môi trường làm dự án tại các Công ty, trau dồi kinh nghiệm lập trình cùng các chuyên gia, giảng viên nhiều năm kinh nghiệm.";
    ViewBag.image = "http://imic.edu.vn/Images/Shortcut.jpg";
}
@section SEO{


    <meta name="DESCRIPTION" content="iMic liên tục khai giảng các khóa học lập trình, thiết kế đồ họa trong tháng. Mỗi lớp chỉ từ 7-12 học viên để đảm bảo quyền lợi học viên và chất lượng đào tạo.">
    <meta name="KEYWORDS" content="Khai giảng khóa học, khóa học lập trình">
}
@section css{
    <link rel="stylesheet" href="~/Content/css/layoutv2.css">
    <link rel="stylesheet" href="~/Content/css/layoutv2-libs.css">

    <!-- Custom CSS -->
    <link href="~/Content/css/style.css" rel="stylesheet">
    <link href="~/Content/css/khaigiang.css" rel="stylesheet">
}

<div id="page-wrapper" class="w-100 pull-left course-content">
    <div class="row">
        <div class="container">
            @*@Html.Action("Index_CategorySearch")*@
            <div class="w-100 pull-left">
                <ul class="course-list" id="c-list">
                    @Html.Action("ListClass")
                </ul>
            </div>
            <div class="clear"></div>
            @*<div class="loadmore text-center">
                    <button data-style="zoom-out" data-loadmore-eventlist="true" class="btn-loadmore rounded ladda-button" style=""><span class="ladda-label">More events...</span><span class="ladda-spinner"></span></button>
                </div>*@

            <div class="col-lg-12">
                <img id="loader-img" alt="" src="~/Content/Galleries/SharedIcons/loading.gif" style="display: none; position: relative; left: 400px; bottom: 233px;" />
                <button class="btn btn-primary col-xs-12" onclick="loadMore()">Tôi muốn xem thêm nhiều lớp khai giảng hơn nữa !!!</button>
            </div>

        </div>
        @*<section class="buying-helper">
                <div class="container">
                    <div class="buysteps overflow-hidden bg-white rounded padding-15">
                        <div class="w-100 overflow-hidden relative">
                            <div class="step-line visible-xs"></div>
                            <div class="a-buystep step1">
                                <div class="step-ico">
                                    <div class="circle">
                                        <span class="visible-xs">1</span>
                                        <span class="hidden-xs ello-ok-2"></span>
                                    </div>
                                </div>
                                <div class="step-intro">
                                    <div class="step-name tkb-color">Select Events and Tickets</div>
                                    <div class="step-helper">With only a few clicks</div>
                                </div>
                            </div>
                            <img class="step-arrow first hidden-xs" src="https://az810058.vo.msecnd.net/site/global/Content/img/icon-step.svg">
                            <div class="a-buystep step2">
                                <div class="step-ico">
                                    <div class="circle">
                                        <span class="visible-xs">2</span>
                                        <span class="hidden-xs ello-dollar"></span>
                                    </div>
                                </div>
                                <div class="step-intro">
                                    <div class="step-name tkb-color">Buy Directly From Organizers</div>
                                    <div class="step-helper">Pay online or cash on delivery</div>
                                </div>
                            </div>
                            <img class="step-arrow last hidden-xs" src="https://az810058.vo.msecnd.net/site/global/Content/img/icon-step.svg">
                            <div class="a-buystep step3">
                                <div class="step-ico">
                                    <div class="circle">
                                        <span class="visible-xs">3</span>
                                        <span class="hidden-xs ello-ticket"></span>
                                    </div>
                                </div>
                                <div class="step-intro">
                                    <div class="step-name tkb-color">Receive tickets</div>
                                    <div class="step-helper">Via email or right at your door</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>*@
    </div>
</div>
<div class="clear"></div>

<input id="tcCodeNumber" type="hidden" name="tcCodeNumber" value="@ViewBag.tcCodeNumber">

<!-- Modal -->
@Html.Action("Index_RegisterClass")
<div id="ematic_background_overlay" style="display: block; z-index: 2147483647; position: fixed; left: 0px; top: 0px; width: 100%; height: 100%; background: rgb(0, 0, 0); opacity: 0.8;"></div>
<div id="ematic_popUpOverlay_6566_9613_1" style="position: absolute; left: 0px; top: -100%; width: 100%; height: 100%; z-index: 2147483647; margin-top: 0px; display: block; opacity: 1;">
    <form onsubmit="return false" autocomplete="off">
        <div data-trueoverlayindex="1" class="ematicOverlayContent ematicOverlayContent0" style="position: fixed; border-radius: 3px; background-image: url(&quot;/Content/images/background/Co-so-dao-tao-tai-Ho-Chi-Minh.png&quot;); background-repeat: no-repeat; background-position: center center; background-size: 600px 400px; width: 600px; height: 400px; z-index: 10000; margin-left: auto; margin-right: auto; left: 30%; top:121.5px; opacity: 1; display: block;">

            @*<input id="ematic_closeExitIntentOverlay_1_xl_1_2" value="Đóng" class="ematic_closeExitIntentOverlay_1" type="button" style="cursor: pointer; padding: 0; margin: 0; position: absolute; left: 743px; top: 18px; width: 46px; height: 37px; border: none;opacity: 0.8 !important; color: #f4a460" >*@
            <span title="Đóng" id="ematic_closeExitIntentOverlay_1_xl_1_2" class="ematic_closeExitIntentOverlay_1" style="cursor: pointer; padding: 0; margin: 0; position: absolute; left: 580px; top: 5px; width: 15px; height: 15px; border: none;opacity: 1 !important; color: #00bfff;font-weight: bold">X </span>
        </div>

    </form>
</div>
@section scripts{
    @*<script src="~/Content/js/layoutv2-libs.js"></script>
        <script src="~/Content/js/layoutv2.js"></script>*@
   <script src='https://www.google.com/recaptcha/api.js?hl=vi' type="text/javascript"></script>
    @*<script src="~/Scripts/jquery.validate.min.js"></script>*@
    <script>
        function btnRegisterClass(classId) {

            $("#frmRegisterClass #ClassId").val(classId); // insert classId to input hidden
            $.ajax({
                url: "@Url.Action("GetClassById", "ClassPage")",
                type: "post",
                data: { classId: classId }
            }).success(function (response) {
                //debugger;
                var parsed = $.parseHTML(response);
                $("#contentPopUp").empty();
                $("#contentPopUp").append(parsed);
            });

            // Show popup
            $("#modalRegisterClass").modal({ backdrop: false });
        }
    </script>
    <!--Validate form đăng ký-->
    <script>
        $("#btnSubmitReg").click(function () {

            //e.preventDefault(); // <------------------ stop default behaviour of button
            var element = this;
            debugger;
            var Name = $('#RegisterPerson_FullName').val();
            var Email = $('#RegisterPerson_Email').val();
            var Phone = $('#RegisterPerson_Phone').val();
            $('.name_warning').hide();
            $('.Email_warning').hide();
            $('.Phone_warning').hide();
            if (Name == null || Name == "") {
                $('.name_warning').show();
            }
            if (Email == null || Email == "") {
                $('.Email_warning').show();
            }
            if (Phone == null || Phone == "") {
                $('.Phone_warning').show();
            }
            else {
                var captcharesponse = grecaptcha.getResponse();
                $.ajax({
                    url: "@Url.Action("RecaptchaCheck", "ClassPage")",
                    type: "POST",

                data: { recaptcha: captcharesponse },
                success: function (response) {
                    if (response.code == 1) {
                        debugger;
                        $(element).closest("form").submit(); //<------------ submit form
                    } else {
                        debugger;
                        $("#error").html(response.mess);
                    }
                },
                error: function (err) {
                    commonError(err);
                }

            });
        }
            //var fullname = "" + $("#RegisterPerson_FullName").val();
            //var email = "" + $("#RegisterPerson_Email").val();


            //if (fullname != "" && email != "") {
            //    alert("Cảm ơn bạn đã đăng ký. Chúng tôi sẽ liên lạc với bạn trong thời gian sớm nhất.");
            //    $("#frmRegisterClass").submit();
            //} else {
            //    alert("Bạn vui lòng điền đủ thông tin họ tên và emali nhé!");
            //}
        });

       
    </script>

    <script src="~/Content/js/disableScroll.js"></script>
    <script>
        $(window).load(function () {
            // Animate loader off screen
            $(window).disablescroll();
            window.setTimeout(function () {
                $('.se-pre-con').fadeOut("fast");
                $(window).disablescroll("undo");
            }, 1000);
        });
    </script>
    <script>
        var pageindex = 1;
        function loadMore() {
            var page = pageindex;
            var codeNumber = $("#tcCodeNumber").val();
            //debugger;
            $("#loader-img").show();
            $.ajax({
                url: "@Url.Action("ListClass", "ClassPage")",
                type: "get",
                data: { pageIndex: page, pageSize: 18, tcCodeNumber: codeNumber }
            }).success(function (response) {
                //debugger;
                var parsed = $.parseHTML(response);
                var result = $(parsed).find(".class-item");
                if (result.length == 0) {
                    $("#loader-img").hide();
                    $(".btn-primary").hide();
                } else {
                    $("#c-list").append(parsed);
                    $("#loader-img").hide();
                    pageindex = pageindex + 1;

                }
            });
        }
    </script>
}